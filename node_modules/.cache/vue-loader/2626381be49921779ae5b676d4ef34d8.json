{"remainingRequest":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/drewhyatt/projects/CandidateRank-Frontend/src/components/Admin-Dashboard/admin/schedule/Scheduler.vue?vue&type=style&index=0&id=65e6ca8c&scoped=true&lang=scss&","dependencies":[{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/src/components/Admin-Dashboard/admin/schedule/Scheduler.vue","mtime":1594695148411},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi50aW1lLWJsb2NrIHsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KLnRpbWUtYmxvY2s6aG92ZXIgewogIGJhY2tncm91bmQtY29sb3I6IGFsaWNlYmx1ZTsKfQouYnJlYWsgewogIGJhY2tncm91bmQtY29sb3I6ICNkMGQwZDA7Cn0KICAjSW50ZXJ2aWV3U2NoZWR1bGUgdGggewogICAgZm9udC1zaXplOiAxMHB4OwogIH0KICAjSW50ZXJ2aWV3U2NoZWR1bGUgdGQ6Zmlyc3QtY2hpbGQgewogICAgZm9udC1zaXplOiAxMnB4OwogICAgZm9udC13ZWlnaHQ6IDUwMDsKICAgIG1heC13aWR0aDogMjAwcHg7CiAgfQogIC5jYW5kaWRhdGUtYmxvY2stY29udGFpbmVyIHsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIG1hcmdpbjogMCBhdXRvOwogICAgZGlzcGxheTogYmxvY2s7CiAgICBoZWlnaHQ6IDEwMCU7CiAgfQogIC5jYW5kaWRhdGUtYmxvY2sgewogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgZmxvYXQ6IGxlZnQ7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjRUVFOwogICAgbWFyZ2luOiAzcHggN3B4IDNweCA3cHg7CiAgICBoZWlnaHQ6IGF1dG87CiAgICB3aWR0aDogIDE1MHB4OwogIH0KICAuc2NoZWR1bGUtcGljIHsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgaGVpZ2h0OiBhdXRvOwogICAgd2lkdGg6ICAxNTBweDsKICAgIGhlaWdodDogMTUwcHg7CiAgfQogIC5zY2hlZHVsZS1mb290ZXIgewogICAgd2lkdGg6IDEwMCU7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRUVFOwogICAgZm9udC1zaXplOiAxMnB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgaGVpZ2h0OiAzMHB4OwogICAgbWFyZ2luLWJvdHRvbTogMHB4OwogIH0K"},{"version":3,"sources":["Scheduler.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Scheduler.vue","sourceRoot":"src/components/Admin-Dashboard/admin/schedule","sourcesContent":["<template>\n  <div id=\"admin-ranking-container\" class=\"mt-2 p-3 \">\n    <b-container fluid>\n      <b-row>\n        <b-col sm=\"3\">\n            <label class=\"tx-12 wt-600 dark-gray\">Select Interview Day</label>\n            <b-form-select v-model=\"currentDay\"  @change=\"changeDay(currentDay)\">\n              <option :value=\"null\" disabled>Select Date</option>\n               <option \n                    v-for=\"(item, index) in currentTerm.dates\" \n                    :key=\"index\" \n                    v-bind:value=\"item\"> {{ item.startDate }}\n                  </option>\n            </b-form-select>\n          </b-col>\n          <b-col sm=\"6\"></b-col>\n          <b-col sm=\"3\">\n            <label class=\"tx-12 wt-600 dark-gray text\">Invite Candidates:</label><br />\n             <b-button \n            class=\"mr-1\"\n            variant=\"primary\"\n            size=\"sm\"\n            @click=\"inviteCandidates()\"\n            >Send Invitation\n          </b-button>\n          </b-col>\n           <b-col sm=\"12\"><hr /></b-col>\n             <b-col sm=\"12\" class=\"pl-4 pr-4\"><DayPilotScheduler id=\"dp\" :config=\"config\" ref=\"scheduler\" /></b-col>\n        </b-row>\n      </b-container>\n\n\n\n        <hr />\n        <b-container fluid>\n            <div class=\"candidate-block-container\">\n                  <div v-for=\"(x, index) in candidates\">\n                      <div class=\"candidate-block\">\n                        <img v-if=\"x.photo != 'null'\" :src=\"x.photo\" class=\"schedule-pic\" />\n                        <img v-else src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_640.png\"  class=\"schedule-pic\" />\n                        <p class=\"schedule-footer\">{{ x['Last Name'] }}, {{ x['First Name'] }}</p>\n                      </div>\n                  </div>\n            </div>\n        </b-container>\n      </div>\n     \n</template>\n\n<script>\nimport {DayPilot, DayPilotScheduler} from 'daypilot-pro-vue'\nimport Vue from 'vue'\n\nexport default {\n  name: 'Scheduler',\n  props: ['organization', 'user', 'candidates', 'faculty', 'currentTerm'],\n  watch: {\n     candidates: function(newVal, oldVal) {\n      if(newVal) {\n        this.candidates = newVal\n        }\n      },\n      organization: function(newVal, oldVal) {\n        if(newVal) {\n          this.organization = newVal\n        }\n      },\n      currentTerm: function(newVal, oldVal) {\n        if(newVal) {\n          console.log(newVal)\n          this.year = newVal.year\n          this.interviewDates = newVal.dates\n          this.currentDay =  newVal.dates[0]\n          console.log(this.currentDay)\n          this.startDate = new DayPilot.Date(this.currentDay.startDate)\n          Vue.set(this.config, \"startDate\", this.startDate)\n          this.loadResources()\n          this.loadEvents()\n        }\n        else {\n          // this.startDate = new DayPilot.Date(oldVal.dates[0])\n        }\n      }\n  },\n  data: function() {\n    return {\n       currentDay: {\n          endDate: '',\n          startDate: '',\n          rooms: [],\n          events: []\n\n      },\n      interviewDates: [],\n      year: null,\n      schedule: null,\n      config: {\n        cellWidthSpec: \"Fixed\",\n        cellWidth: 100,\n        timeHeaders: [{\"groupBy\":\"Day\"},{\"groupBy\":\"Hour\"}],\n        scale: \"Hour\",\n        days: 1,\n        startDate: null,\n        showNonBusiness: false,\n        businessWeekends: true,\n        eventHeight: 60,\n        timeRangeSelectedHandling: \"Enabled\",\n        onTimeRangeSelected: function (args) {\n          var dp = this;\n          DayPilot.Modal.prompt(\"Create a new event:\", \"Event 1\").then(function(modal) {\n            dp.clearSelection();\n            if (!modal.result) { return; }\n            dp.events.add(new DayPilot.Event({\n              start: args.start,\n              end: args.end,\n              id: DayPilot.guid(),\n              resource: args.resource,\n              text: modal.result\n            }));\n          });\n        },\n        eventMoveHandling: \"Update\",\n        onEventMoved: function (args) {\n          console.log(args)\n          this.message(\"Event moved: \" + args.e.text());\n        },\n        eventResizeHandling: \"Update\",\n        onEventResized: function (args) {\n          this.message(\"Event resized: \" + args.e.text());\n        },\n        eventDeleteHandling: \"Update\",\n        onEventDeleted: function (args) {\n          this.message(\"Event deleted: \" + args.e.text());\n        },\n        eventClickHandling: \"Disabled\",\n        eventHoverHandling: \"Bubble\",\n        bubble: new DayPilot.Bubble({\n          onLoad: function(args) {\n            // if event object doesn't specify \"bubbleHtml\" property \n            // this onLoad handler will be called to provide the bubble HTML\n            args.html = \"Event details\";\n          }\n        }),\n        treeEnabled: true,\n      },\n    }\n  },\n  components: {\n    DayPilotScheduler\n  },\n  computed: {\n    // DayPilot.Scheduler object - https://api.daypilot.org/daypilot-scheduler-class/\n    scheduler: function () {\n      return this.$refs.scheduler.control;\n    }\n  },\n  mounted: function() {\n    DayPilot.onBeforeEventRender = function(args) {\n      console.log(args)\n      args.data.html = \"Custom Event Text\";\n  }\n    // this.loadResources();\n  },\n  methods: {\n    inviteCandidates() {\n      console.log(DayPilot)\n      alert(\"INVITE CANDIDATES\")\n    },\n    loadEvents() {\n      console.log(\"LOAD EVENTS\")\n      // CONFIRMED CUSTODIANS\n      let events = [\n        { id: 1, start: this.currentDay.startDate, end: this.currentDay.startDate, text: \"Event 1\", resource: \"R1\" },\n        // { id: 2, start: DayPilot.Date.today().addDays(2), end: DayPilot.Date.today().addDays(5), text: \"Event 1\", resource: \"R2\"}\n      ];\n      Vue.set(this.config, \"events\", events);\n    },\n    changeDay(currentDay) {\n      this.currentDay = currentDay\n      this.loadResources()\n    },\n     loadResources() {\n      console.log(\"LOAD RESOURCES\")\n      let x\n      let rooms = this.currentDay.rooms\n      let resources = []\n      for(x in rooms) {\n        let js = {\n          \"id\" : rooms[x].name,\n          \"name\" : rooms[x].name,\n          \"expanded\": true,\n        }\n        let i\n        let children = []\n        for(i in rooms[x].evaluators) {\n          let evalu = rooms[x].evaluators[i]\n          let ev = {\n            \"name\": evalu.email,\n            \"id\": evalu.email\n          }  \n          children.push(ev)\n        }\n        js.children = children\n        resources.push(js)\n      } \n      this.schedule = resources\n      // this.config.resources = resources\n      Vue.set(this.config, \"resources\", resources);\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.time-block {\n  cursor: pointer;\n}\n.time-block:hover {\n  background-color: aliceblue;\n}\n.break {\n  background-color: #d0d0d0;\n}\n  #InterviewSchedule th {\n    font-size: 10px;\n  }\n  #InterviewSchedule td:first-child {\n    font-size: 12px;\n    font-weight: 500;\n    max-width: 200px;\n  }\n  .candidate-block-container {\n    text-align: center;\n    margin: 0 auto;\n    display: block;\n    height: 100%;\n  }\n  .candidate-block {\n    display: inline-block;\n    float: left;\n    border: 1px solid #EEE;\n    margin: 3px 7px 3px 7px;\n    height: auto;\n    width:  150px;\n  }\n  .schedule-pic {\n    display: block;\n    height: auto;\n    width:  150px;\n    height: 150px;\n  }\n  .schedule-footer {\n    width: 100%;\n    background-color: #EEE;\n    font-size: 12px;\n    text-align: center;\n    height: 30px;\n    margin-bottom: 0px;\n  }\n</style>"]}]}
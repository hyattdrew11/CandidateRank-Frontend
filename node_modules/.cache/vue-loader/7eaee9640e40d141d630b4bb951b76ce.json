{"remainingRequest":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/drewhyatt/projects/CandidateRank-Frontend/src/components/Admin-Dashboard/admin/index.vue?vue&type=style&index=0&id=a89f0f0e&scoped=true&lang=scss&","dependencies":[{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/src/components/Admin-Dashboard/admin/index.vue","mtime":1595200067540},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiNhZG1pbi1kYXNoYm9hcmR7CiAgbWFyZ2luLXRvcDogNjBweDsKfQojYWRtaW4tbWVudSB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiA5MnZoOwogICAgYmFja2dyb3VuZC1jb2xvcjogI0VFRTsKICAgIG1hcmdpbi1sZWZ0OiAtMTVweDsKICAgIG92ZXJmbG93OiBoaWRkZW47Cn0KI2FkbWluLW1lbnUtbGlzdCB7CiAgICBsaXN0LXN0eWxlOiBub25lOwogICAgZm9udC1zaXplOiAxNHB4OwogICAgZm9udC13ZWlnaHQ6IDUwMDsKICAgIHBhZGRpbmctaW5saW5lLXN0YXJ0OiAwcHg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KICNhZG1pbi1tZW51LWxpc3QgIGxpIHsKICAgIGhlaWdodDogMTguNHZoOwogICAgcGFkZGluZzogNTBweDsKICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZDJkMmQyOwogICAgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgLjJzIGVhc2UtaW4tb3V0OwogICAgdHJhbnNpdGlvbjogYWxsIC4ycyBlYXNlLWluLW91dDsKICB9CiAgI2FkbWluLW1lbnUtbGlzdCBsaTpob3ZlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTNhODllYWI7CiAgICBjb2xvcjogI0ZGRjsKICAgIGN1cnNvcjogcG9pbnRlcjsKfQojYWRtaW4tbWVudS1saXN0IGxpLmFjdGl2ZSB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTNhODllOwogICAgY29sb3I6ICNGRkY7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjRkZGOwp9CiAgICNhZG1pbi1tZW51LWNvbnRhaW5lciB7CiAgICB3aWR0aDogMTIlOwogICB9CiAgICNhZG1pbi10YWJzLWNvbnRhaW5lciB7CiAgICB3aWR0aDogODglOwogICAgYm9yZGVyOiAxcHggc29saWQgI2RlZTJlNjsKICAgfQogICAuZGF0ZSB7CiAgICB3aWR0aDogODAlOwogICAgcGFkZGluZy1ib3R0b206IDVweDsKICAgfQogICAudW5kZXJiYXIgewogICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgd2lkdGg6IDgwJTsKICAgICAgaGVpZ2h0OiAzcHg7CiAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7CiAgIH0KICAgICNldmFsdWF0b3JUYWJsZSB0aCB7CiAgICBmb250LXNpemU6IDEwcHg7CiAgfQogICNjdXJyZW50VGVybS1iYW5uZXIgewogICAgcG9zaXRpb246IGZpeGVkOwogICAgdG9wOiAxOXB4OwogICAgei1pbmRleDogMjAwMDsKICAgIGNvbG9yOiAjRkZGOwogICAgcmlnaHQ6IDQyJTsKICB9CiAgI2N1cnJlbnRUZXJtTGFiZWwgewogICAgcG9zaXRpb246IGZpeGVkOwogICAgei1pbmRleDogMzAwMDA7CiAgICBjb2xvcjogI0ZGRjsKICAgIHRvcDogMjBweDsKICAgIGxlZnQ6IDE1MHB4CiAgfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/Admin-Dashboard/admin","sourcesContent":["<template>\n  <div id=\"admin-dashboard\" class=\"container-fluid\">\n    <span v-if=\"currentTerm\" id=\"currentTermLabel\">\n      {{ currentTerm.department }} {{ currentTerm.year }}\n    </span>\n    <i id=\"loader\" v-if=\"loading\" class=\"fa fa-spinner fa-pulse fa-3x fa-fw text-info\" aria-hidden=\"true\"></i>\n    <div :class=\"{fade : loading }\">\n      <!-- <span id=\"currentTerm-banner\">Currently Working in {{ currentTerm.year }}</span> -->\n      <b-row  no-gutters>\n        <div id=\"admin-menu-container\">\n          <div id=\"admin-menu\">\n            <ul id=\"admin-menu-list\">\n              <li v-for=\"(x, index) in tabs\" :class=\"{active : x == tab }\" @click=\"changeTab(x)\">{{ x }}</li>\n            </ul>\n          </div>\n        </div>\n        <!-- <SmartSync :tasks=\"tasks\" /> -->\n        <div id=\"admin-tabs-container\">\n          <Setup            \n            :class=\"{'d-none' : tab != 'Setup'}\"\n            :organization=\"organization\" \n            :user=\"user\" \n            :candidates=\"candidates\" \n            :surveys=\"surveys\" \n            :faculty=\"faculty\"\n            :files=\"files\"\n            @loadCandidates=\"loadCandidates\"\n            @changeTerm=\"changeTerm\"\n\n          />\n          <PreInterview\n            :class=\"{'d-none' : tab != 'Pre-Interview'}\"\n            :active=\"tab == 'Pre-Interview'\"\n            :organization=\"organization\"\n            :user=\"user\"\n            :candidates=\"candidates\"\n            :surveys=\"surveys\"\n            :faculty=\"faculty\"\n            :currentTerm=\"currentTerm\"\n          />\n            <InterviewProcess\n            :class=\"{'d-none' : tab != 'Interview Process'}\"\n            :active=\"tab == 'Interview Process'\"\n            :organization=\"organization\"\n            :user=\"user\"\n            :candidates=\"candidates\"\n            :surveys=\"surveys\"\n            :faculty=\"faculty\" \n            :currentTerm=\"currentTerm\"\n          />\n          <Schedule\n            :class=\"{'d-none' : tab != 'Schedule'}\"\n            :organization=\"organization\"\n            :user=\"user\"\n            :candidates=\"candidates\"\n            :surveys=\"surveys\"\n            :faculty=\"faculty\" \n            :currentTerm=\"currentTerm\"\n          />\n          <Ranking\n            :class=\"{'d-none' : tab != 'Ranking'}\"\n            :organization=\"organization\"\n            :user=\"user\"\n            :candidates=\"candidates\"\n            :surveys=\"surveys\"\n            :faculty=\"faculty\" \n            @loadCandidates=\"loadCandidates\"\n            :currentTerm=\"currentTerm\"\n          />\n\n\n        </div>\n           \n      </b-row>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nconst currentYear = (new Date()).getFullYear();\n\nconst API_URL = process.env.VUE_APP_API_URL\n\nimport SmartSync from './SmartSync.vue';\nimport Setup from './setup/index.vue';\nimport Ranking from './ranking/index.vue';\nimport Schedule from './schedule/Scheduler.vue';\nimport PreInterview from './pre-interview/index.vue';\nimport InterviewProcess from './interview-process/index.vue';\n\nexport default {\n\tname: 'AdminDashboard',\n  props: ['user'],\n\tdata() {\n    \treturn {\n        loading: true,\n        tab:  'Setup',\n        tabs: ['Setup', 'Pre-Interview', 'Interview Process',  'Schedule', 'Ranking'],\n        organization: {\n          name: null,\n          terms: []\n        },\n        currentTerm: null,\n        candidates: [],\n        tasks: [],\n        surveys: null,\n        faculty: null,\n        files:[]\n      }\n  \t},\n  \tcomponents: {\n      SmartSync,\n      Setup,\n      Ranking,\n      Schedule,\n      PreInterview,\n      InterviewProcess,\n      axios\n    },\n    mounted() {\n      this.loadDashboard()\n      // this.checkTasks()\n      // setInterval(function () { this.checkTasks() }.bind(this), 30000);\n    },\n  \tmethods: {\n       changeTerm: function(term) {\n        this.currentTerm = term\n      },\n      checkTasks() {\n        console.log(\"CHECK TASKS\")\n        const org = this.user.Organization\n        const token = this.$store.state.jwt.token.token \n        const authHeader = { headers: { \"Authorization\" : 'Bearer: ' + token } }\n\n        axios.get( API_URL+'/dashboard/admin/'+org+'/tasks', authHeader)\n          .then(({ data }) => {   \n            this.tasks = data.tasks\n          })\n           .catch(error => {\n            const auth = error.response.data.authenticated\n            if(!auth) {\n              alert(\"Please login.\")\n              window.sessionStorage.clear()\n              window.location.replace(\"/\");\n            }\n        })\n      },\n      loadDashboard() {\n        console.log('LOAD DASHBOARD')\n        console.log(this.user)\n        const org = this.user.Organization\n        const token = this.$store.state.jwt.token.token \n        const authHeader = { headers: { \"Authorization\" : 'Bearer: ' + token } }\n        if(this.user.email == this.user.Organization) {\n          // PUSH TO SETUP SCREEN\n          alert(\"NEW ACCOUNT UPDATE INFO\")\n        }\n        axios.get( API_URL+'/dashboard/admin/'+org, authHeader)\n          .then(({ data }) => { \n              console.log(data)\n              this.organization = data.organization\n              this.surveys      = data.surveys\n              this.faculty      = data.faculty \n              this.files        = data.files\n              this.tasks        = data.tasks\n\n              if(this.organization.terms.length > 0) {\n                this.currentTerm = this.organization.terms[0]\n                this.getCandidates()\n              }\n              else {\n                // alert(\"The administrator has not setup a term.\")\n              }\n              this.loading      = false\n          })\n           .catch(function (e) {\n            console.log(e)\n            const auth = e.response.data.authenticated\n            if(!auth) {\n              alert(\"Please login.\")\n              window.sessionStorage.clear()\n              window.location.replace(\"/\");\n            }\n          })\n      },\n       getCandidates() {\n          // console.log(\"GET CANDIDATES\")\n          let org = this.user.Organization\n          axios.get(API_URL+'/candidate/all/'+org+'/'+this.currentTerm.year)\n          .then(({ data }) => {\n            // console.log(data)\n            let x \n            for(x in data) {\n              this.candidates.push(data[x]['_source'])\n            }\n          })\n          .catch(function (e) {\n            console.log(e)\n          })\n      },\n      loadCandidates: function(year) {\n          console.log(\"LOAD CANDIDATES: \" + year)\n          let org = this.user.Organization\n          this.candidates = []\n          axios.get(API_URL+'/candidate/all/'+org+'/'+year)\n          .then(({ data }) => {\n            let x \n            for(x in data) {\n              this.candidates.push(data[x]['_source'])\n            }\n          })\n          .catch(function (e) {\n            console.log(e)\n          })\n      },\n      changeTab(tab) {\n        this.tab = tab\n      },\n      saveWizard() {\n        this.$refs['em'].activate()\n      },\n      saveDate(x , index) {\n        this.savedDates.push(x)\n        this.interviewDates.splice(index, 1)\n      },\n      removeDate(x, index) {\n        this.interviewDates.splice(index, 1)\n      },\n      removeSavedDate(x, index) {\n        this.savedDates.splice(index, 1)\n      },\n      onContext(ctx) {\n        if(ctx.selectedDate == null) {\n          this.context = ctx\n        }\n        else {\n          this.context = ctx\n          this.interviewDates.push(ctx)\n        }\n      }\n    }\n};\n</script>\n<style scoped lang=\"scss\">\n#admin-dashboard{\n  margin-top: 60px;\n}\n#admin-menu {\n    display: block;\n    width: 100%;\n    height: 92vh;\n    background-color: #EEE;\n    margin-left: -15px;\n    overflow: hidden;\n}\n#admin-menu-list {\n    list-style: none;\n    font-size: 14px;\n    font-weight: 500;\n    padding-inline-start: 0px;\n    text-align: center;\n}\n #admin-menu-list  li {\n    height: 18.4vh;\n    padding: 50px;\n    border-bottom: 1px solid #d2d2d2;\n    -webkit-transition: all .2s ease-in-out;\n    transition: all .2s ease-in-out;\n  }\n  #admin-menu-list li:hover {\n    background-color: #13a89eab;\n    color: #FFF;\n    cursor: pointer;\n}\n#admin-menu-list li.active {\n    background-color: #13a89e;\n    color: #FFF;\n    border: 1px solid #FFF;\n}\n   #admin-menu-container {\n    width: 12%;\n   }\n   #admin-tabs-container {\n    width: 88%;\n    border: 1px solid #dee2e6;\n   }\n   .date {\n    width: 80%;\n    padding-bottom: 5px;\n   }\n   .underbar {\n      display: block;\n      width: 80%;\n      height: 3px;\n      margin-bottom: 15px;\n   }\n    #evaluatorTable th {\n    font-size: 10px;\n  }\n  #currentTerm-banner {\n    position: fixed;\n    top: 19px;\n    z-index: 2000;\n    color: #FFF;\n    right: 42%;\n  }\n  #currentTermLabel {\n    position: fixed;\n    z-index: 30000;\n    color: #FFF;\n    top: 20px;\n    left: 150px\n  }\n</style>"]}]}
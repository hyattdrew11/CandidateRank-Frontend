{"remainingRequest":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/drewhyatt/projects/CandidateRank-Frontend/src/components/Dashboard/admin/ranking/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/src/components/Dashboard/admin/ranking/index.vue","mtime":1587865586000},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IEFQSV9VUkwgPSBwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkwKCgpleHBvcnQgZGVmYXVsdCB7CgogIG5hbWU6ICdpbmRleCcsCiAgcHJvcHM6IFsnb3JnYW5pemF0aW9uJywgJ3VzZXInLCAnY2FuZGlkYXRlcycsICdmYWN1bHR5J10sCiAgIHdhdGNoOiB7CiAgICBvcmdhbml6YXRpb246IGZ1bmN0aW9uKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgIGlmKG5ld1ZhbCkgewogICAgICAgIHRoaXMub3JnYW5pemF0aW9uID0gbmV3VmFsCiAgICAgIH0KICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgdGV4dDogbnVsbCwKICAgICAgICB5ZWFyOiBudWxsLAogICAgICAgIHJhbmtpbmdUeXBlczogWydQcmUtSW50ZXJ2aWV3JywgJ0ludGVydmlldycsICdEeW5hbWljIExpc3QnXSwKICAgICAgICByYW5raW5nVHlwZTogJycsCiAgICAgICAgZmllbGRzOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgICJuYW1lIjogIlJhbmsiLAogICAgICAgICAgICAib3JkZXIiOiBudWxsLAogICAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICAibmFtZSI6ICJBcHBsaWNhbnQiLAogICAgICAgICAgICAib3JkZXIiOiBudWxsLAogICAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICAibmFtZSI6ICJJbnRlcnZpZXciLAogICAgICAgICAgICAib3JkZXIiOiBudWxsLAogICAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICAibmFtZSI6ICJQcmUtSW50ZXJ2aWV3IFN1cmV2ZXkiLAogICAgICAgICAgICAib3JkZXIiOiBudWxsLAogICAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICAibmFtZSI6ICJJbnRlcnZpZXcgU3VydmV5IiwKICAgICAgICAgICAgIm9yZGVyIjogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgICJuYW1lIjogIkFwcGxpY2F0aW9uIiwKICAgICAgICAgICAgIm9yZGVyIjogbnVsbCwKICAgICAgICAgIH0KICAgICAgICBdLAogICAgICB9CiAgICB9LAogICAgY29tcG9uZW50czoge30sCiAgICBjb21wdXRlZDogewogICAgICBwcmlvclllYXJzKCkgewogICAgICAgIGxldCB4CiAgICAgICAgbGV0IHRlcm1zID0gdGhpcy5vcmdhbml6YXRpb24udGVybXMKICAgICAgICBsZXQgeWVhcnMgPSBbXQogICAgICAgIGZvcih4IGluIHRlcm1zKSB7IHllYXJzLnB1c2godGVybXNbeF0ueWVhcikgfQogICAgICAgIHRoaXMueWVhciA9IHllYXJzWzBdCiAgICAgICAgcmV0dXJuIHllYXJzCiAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkge30sCiAgICBtZXRob2RzOiB7CiAgICAgICAgc29ydChpbmRleCwgb3JkZXIpIHsKICAgICAgICAgIGlmKG9yZGVyID09IG51bGwpIHsKICAgICAgICAgICAgdGhpcy5maWVsZHNbaW5kZXhdLm9yZGVyID0gJ2Rlc2MnCiAgICAgICAgICB9CiAgICAgICAgICBpZihvcmRlciA9PSAnYXNjJykgewogICAgICAgICAgICB0aGlzLmZpZWxkc1tpbmRleF0ub3JkZXIgPSAnZGVzYycKICAgICAgICAgIH0KICAgICAgICAgIGlmKG9yZGVyID09ICdkZXNjJykgewogICAgICAgICAgICB0aGlzLmZpZWxkc1tpbmRleF0ub3JkZXIgPSAnYXNjJwogICAgICAgICAgfQogICAgICAgICAgY29uc29sZS5sb2codGhpcy5maWVsZHNbaW5kZXhdKQogICAgICAgIH0sCiAgICAgICAgZ2V0Q2FuZGlkYXRlcyh5ZWFyKSB7CiAgICAgICAgICBsZXQgb3JnID0gdGhpcy51c2VyLk9yZ2FuaXphdGlvbgogICAgICAgICAgd2luZG93LmF4aW9zLmdldChBUElfVVJMKycvY2FuZGlkYXRlL2FsbC8nK29yZysnLycreWVhcikKICAgICAgICAgIC50aGVuKCh7IGRhdGEgfSkgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhWzBdKQogICAgICAgICAgICBsZXQgeCAKICAgICAgICAgICAgZm9yKHggaW4gZGF0YSkKICAgICAgICAgICAgICB0aGlzLmNhbmRpZGF0ZXMucHVzaChkYXRhW3hdKQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIGFsZXJ0KCdFcnJvciBsb2FkaW5nIHNlYXJjaCBjYW5kaWRhdGVzLCBwbGVhc2UgcmVmcmVzaC4nKQogICAgICAgICAgfSkKICAgICAgfSwKICAgIH0KfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/Dashboard/admin/ranking","sourcesContent":["<template>\n\t<div id=\"admin-ranking-container\" class=\"mt-3\">\n    <b-row>\n       <b-col sm=\"6\">\n         <label class=\"tx-12 wt-600 dark-gray\">Search Candidates:</label>\n         <b-form-input v-model=\"text\" placeholder=\"Search Candidates\"></b-form-input>\n      </b-col>\n      <b-col sm=\"3\">\n        <label class=\"tx-12 wt-600 dark-gray\">Ranking Type:</label>\n        <b-form-select v-model=\"rankingType\" :options=\"rankingTypes\"></b-form-select>\n      </b-col>\n\n       <b-col sm=\"3\">\n        <label class=\"tx-12 wt-600 dark-gray\">Choose Year:</label>\n        <b-form-select v-model=\"year\" :options=\"priorYears\" @change=\"getCandidates(year)\"></b-form-select>\n      </b-col>\n\n      <b-col sm=\"5\"></b-col>\n      <b-col sm=\"12\">\n        <hr />\n        <table id=\"PreInterviewRankings\" class=\"table table-bordered table-hover\">\n         <thead>\n            <tr>\n              <th v-for=\"(x, index) in fields\" scope=\"col\" @click=\"sort(index,  x.order)\">\n                {{ x.name }} \n                  <i v-if=\" x.order == null\" class=\"fa fa-sort float-right gray\"></i>\n                  <i v-if=\" x.order == 'asc'\" class=\"fa fa-caret-up float-right\"></i>\n                  <i v-if=\" x.order == 'desc'\" class=\"fa fa-caret-down float-right\"></i>\n              </th>\n            </tr>\n          </thead>\n           <tbody>\n            <tr v-for=\"(x, index) in candidates\">\n                <td>{{ index }}</td>\n                <td class=\"pointer wt-600\" @click=\"candidateDetails(x)\">\n                  <!-- <img class=\"profile-sm\" :src=\"x.picture\" /> -->\n                   {{ x['First Name'] }} {{ x['Last Name'] }}\n                </td>\n                <td>{{ x.interview.status }}</td>\n                <td class=\"td-int\">{{ x.survey_1.status }}</td>\n                <td class=\"td-int\">{{ x.survey_2.status }}</td>\n                <td class=\"td-int\">\n                   <b-button size=\"sm\" variant=\"primary\" squared class=\"\">View</b-button>\n                </td>\n            </tr>\n          </tbody>\n        </table>\n      </b-col>\n    </b-row> \n  </div>\n</template>\n\n<script>\nconst API_URL = process.env.VUE_APP_API_URL\n\n\nexport default {\n\n  name: 'index',\n  props: ['organization', 'user', 'candidates', 'faculty'],\n   watch: {\n    organization: function(newVal, oldVal) {\n      if(newVal) {\n        this.organization = newVal\n      }\n    }\n  },\n  data() {\n      return {\n        text: null,\n        year: null,\n        rankingTypes: ['Pre-Interview', 'Interview', 'Dynamic List'],\n        rankingType: '',\n        fields: [\n          {\n            \"name\": \"Rank\",\n            \"order\": null,\n            },\n          {\n            \"name\": \"Applicant\",\n            \"order\": null,\n            },\n          {\n            \"name\": \"Interview\",\n            \"order\": null,\n            },\n          {\n            \"name\": \"Pre-Interview Surevey\",\n            \"order\": null,\n            },\n          {\n            \"name\": \"Interview Survey\",\n            \"order\": null,\n          },\n          {\n            \"name\": \"Application\",\n            \"order\": null,\n          }\n        ],\n      }\n    },\n    components: {},\n    computed: {\n      priorYears() {\n        let x\n        let terms = this.organization.terms\n        let years = []\n        for(x in terms) { years.push(terms[x].year) }\n        this.year = years[0]\n        return years\n      }\n    },\n    mounted() {},\n    methods: {\n        sort(index, order) {\n          if(order == null) {\n            this.fields[index].order = 'desc'\n          }\n          if(order == 'asc') {\n            this.fields[index].order = 'desc'\n          }\n          if(order == 'desc') {\n            this.fields[index].order = 'asc'\n          }\n          console.log(this.fields[index])\n        },\n        getCandidates(year) {\n          let org = this.user.Organization\n          window.axios.get(API_URL+'/candidate/all/'+org+'/'+year)\n          .then(({ data }) => {\n            console.log(data[0])\n            let x \n            for(x in data)\n              this.candidates.push(data[x])\n          })\n          .catch(function (e) {\n              alert('Error loading search candidates, please refresh.')\n          })\n      },\n    }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n  #admin-ranking-container {\n    width: 99%;\n    padding: 15px;\n  }\n  #PreInterviewRankings th {\n    font-size: 10px;\n  }\n   #PreInterviewRankings td {\n    font-size: 12px;\n    padding: 5px 15px 5px 15px;\n    vertical-align: middle;\n  }\n  #PreInterviewRankings td:nth-child(2)  {\n    max-width: 200px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n  #PreInterviewRankings td:last-child {\n     width: 300px;\n  }\n  .profile-sm {\n    display: inline-block;\n    border-radius: 100%;\n    height: 35px;\n    width:  auto;\n    margin-right: 10px;\n  }\n</style>"]}]}
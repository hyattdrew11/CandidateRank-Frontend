{"remainingRequest":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/drewhyatt/projects/CandidateRank-Frontend/src/components/Admin-Dashboard/admin/interview-process/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/src/components/Admin-Dashboard/admin/interview-process/index.vue","mtime":1594668924738},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKY29uc3QgQVBJX1VSTCA9IHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTAppbXBvcnQgeyBBZ0dyaWRWdWUgfSBmcm9tICdhZy1ncmlkLXZ1ZSc7CmltcG9ydCAiYWctZ3JpZC1lbnRlcnByaXNlIjsKaW1wb3J0ICJhZy1ncmlkLWNvbW11bml0eS9kaXN0L3N0eWxlcy9hZy1ncmlkLmNzcyI7CmltcG9ydCAiYWctZ3JpZC1jb21tdW5pdHkvZGlzdC9zdHlsZXMvYWctdGhlbWUtbWF0ZXJpYWwuY3NzIjsKaW1wb3J0IHtmaWVsZHN9IGZyb20gJy4vZmllbGRzJwppbXBvcnQgcGhvdG9SZW5kZXIgZnJvbSAiLi9waG90b1JlbmRlciI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnaW5kZXgnLAogIHByb3BzOiBbJ2FjdGl2ZScsJ29yZ2FuaXphdGlvbicsICd1c2VyJywgJ2NhbmRpZGF0ZXMnLCAnZmFjdWx0eScsICdjdXJyZW50VGVybSddLAogICB3YXRjaDogewogICAgb3JnYW5pemF0aW9uOiBmdW5jdGlvbihuZXdWYWwsIG9sZFZhbCkgewogICAgICBpZihuZXdWYWwpIHsKICAgICAgICB0aGlzLm9yZ2FuaXphdGlvbiA9IG5ld1ZhbAogICAgICB9CiAgICB9LAogICAgY2FuZGlkYXRlczogZnVuY3Rpb24obmV3VmFsLCBvbGRWYWwpIHsKICAgICAgaWYobmV3VmFsKSB7CiAgICAgICAgdGhpcy5jYW5kaWRhdGVzID0gbmV3VmFsCiAgICAgICAgdGhpcy5yb3dEYXRhID0gbmV3VmFsCiAgICAgIH0KICAgIH0sCiAgICBhY3RpdmU6IGZ1bmN0aW9uKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgIGlmKG5ld1ZhbCkgewogICAgICAgIGlmKG5ld1ZhbCA9PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLmdyaWRBcGkuc2l6ZUNvbHVtbnNUb0ZpdCgpCiAgICAgICAgfQogICAgICB9CiAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBzZWFyY2g6ICcnLAogICAgICAgIHRleHQ6IG51bGwsCiAgICAgICAgeWVhcjogbnVsbCwKICAgICAgICBncmlkT3B0aW9uczogbnVsbCwKICAgICAgICBncmlkQXBpOiBudWxsLAogICAgICAgIGNvbHVtbkFwaTogbnVsbCwKICAgICAgICByb3dTZWxlY3Rpb246ICJzaW5nbGUiLAogICAgICAgIGNvbnRleHQ6IG51bGwsCiAgICAgICAgZnJhbWV3b3JrQ29tcG9uZW50czogbnVsbCwKICAgICAgICBwYWdpbmF0aW9uTnVtYmVyRm9ybWF0dGVyOiBudWxsLAogICAgICAgIHBhZ2luYXRpb25QYWdlU2l6ZTogMTAwLAogICAgICAgIGNvbHVtbkRlZnM6IGZpZWxkcywKICAgICAgICByb3dEYXRhOiB0aGlzLmNhbmRpZGF0ZXMKICAgICAgfQogICAgfSwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgQWdHcmlkVnVlLAogICAgICBwaG90b1JlbmRlcgogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgIHByaW9yWWVhcnMoKSB7CiAgICAgICAgbGV0IHgKICAgICAgICBsZXQgdGVybXMgPSB0aGlzLm9yZ2FuaXphdGlvbi50ZXJtcwogICAgICAgIGxldCB5ZWFycyA9IFtdCiAgICAgICAgZm9yKHggaW4gdGVybXMpIHsgeWVhcnMucHVzaCh0ZXJtc1t4XS55ZWFyKSB9CiAgICAgICAgdGhpcy55ZWFyID0geWVhcnNbMF0KICAgICAgICByZXR1cm4geWVhcnMKICAgICAgfSwKICAgICAgc29ydGVkQ3VzdG9kaWFuczogewogICAgICAgIGdldCAoKSB7CiAgICAgICAgICAvKiAKICAgICAgICAgIENPTVBVVEVEIFBST1BFUlRZIElTIENPTk5FQ1RFRCBUTyBUSEUgU0VBUkNIIFRFWFQgQk9YIElOIFRIRSBDT01QT05FTlQKICAgICAgICAgIEFMTE9XUyBVU0VSUyBUTyBTRUFSQ0ggVEhFSVIgTUFUVEVSUyBBTkQgQVNTSUdOTUVOVFMKICAgICAgICAgICovCiAgICAgICAgICByZXR1cm4gdGhpcy5jYW5kaWRhdGVzCiAgICAgICAgICAgID8gdGhpcy5jYW5kaWRhdGVzLmZpbHRlcihpdGVtID0+IGl0ZW1bJ0ZpcnN0IE5hbWUnXS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHRoaXMuc2VhcmNoLnRvTG93ZXJDYXNlKCkpKQogICAgICAgICAgICA6IHRoaXMuY2FuZGlkYXRlcwogICAgICAgIH0sCiAgICAgICAgc2V0ICgpIHsKICAgICAgICAgIHRoaXMuY2FuZGlkYXRlcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHsKICAgICAgICAgICAgICBpZihhWydGaXJzdCBOYW1lJ10gPCBiWydGaXJzdCBOYW1lJ10pIHsgcmV0dXJuIC0xIH0KICAgICAgICAgICAgICBpZihhWydMYXN0IE5hbWUnXSA+IGJbJ0xhc3QgTmFtZSddKSB7IHJldHVybiAxICB9CiAgICAgICAgICAgICAgcmV0dXJuIDAKICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBiZWZvcmVNb3VudCgpIHsKICAgICAgICB0aGlzLmdyaWRPcHRpb25zID0gewogICAgICAgICAgICAgICAgICBkZWZhdWx0Q29sRGVmOiB7IHNvcnRhYmxlOiB0cnVlfSwKICAgICAgICB9CiAgICAgICAgdGhpcy5ncmlkT3B0aW9ucy5yb3dIZWlnaHQgPSAxNTA7CiAgICAgICAgdGhpcy5jb2x1bW5EZWZzID0gZmllbGRzCiAgICAgICAgdGhpcy5jb250ZXh0ID0geyBjb21wb25lbnRQYXJlbnQ6IHRoaXMgfQogICAgICAgIHRoaXMuZnJhbWV3b3JrQ29tcG9uZW50cyA9IHsgCiAgICAgICAgICAgICAgInBob3RvUmVuZGVyIjogcGhvdG9SZW5kZXIKICAgICAgICAgICAgfTsKICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIHRoaXMuZ3JpZEFwaSA9IHRoaXMuZ3JpZE9wdGlvbnMuYXBpCiAgICAgICAgdGhpcy5ncmlkQ29sdW1uQXBpID0gdGhpcy5ncmlkT3B0aW9ucy5jb2x1bW5BcGkKICAgICAgICAvLyB0aGlzLmdyaWRBcGkuc2l6ZUNvbHVtbnNUb0ZpdCgpOwogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgb25HcmlkUmVhZHkocGFyYW1zKSB7CiAgICAgIHBhcmFtcy5hcGkuc2l6ZUNvbHVtbnNUb0ZpdCgpOwogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgcGFyYW1zLmFwaS5zaXplQ29sdW1uc1RvRml0KCkKICAgICAgICAgICAgfSkKICAgICAgICAgIH0pICAKICAgICAgfSwKICAgICAgICBzb3J0KGluZGV4LCBvcmRlcikgewogICAgICAgICAgaWYob3JkZXIgPT0gbnVsbCkgewogICAgICAgICAgICB0aGlzLmZpZWxkc1tpbmRleF0ub3JkZXIgPSAnZGVzYycKICAgICAgICAgIH0KICAgICAgICAgIGlmKG9yZGVyID09ICdhc2MnKSB7CiAgICAgICAgICAgIHRoaXMuZmllbGRzW2luZGV4XS5vcmRlciA9ICdkZXNjJwogICAgICAgICAgfQogICAgICAgICAgaWYob3JkZXIgPT0gJ2Rlc2MnKSB7CiAgICAgICAgICAgIHRoaXMuZmllbGRzW2luZGV4XS5vcmRlciA9ICdhc2MnCiAgICAgICAgICB9CiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmZpZWxkc1tpbmRleF0pCiAgICAgICAgfSwKICAgICAgICBnZXRDYW5kaWRhdGVzKHllYXIpIHsKICAgICAgICAgIGxldCBvcmcgPSB0aGlzLnVzZXIuT3JnYW5pemF0aW9uCiAgICAgICAgYXhpb3MuZ2V0KEFQSV9VUkwrJy9jYW5kaWRhdGUvYWxsLycrb3JnKycvJyt5ZWFyKQogICAgICAgICAgLnRoZW4oKHsgZGF0YSB9KSA9PiB7CiAgICAgICAgICAgIGxldCB4IAogICAgICAgICAgICBmb3IoeCBpbiBkYXRhKSB7CiAgICAgICAgICAgICAgdGhpcy5jYW5kaWRhdGVzLnB1c2goZGF0YVt4XVsnX3NvdXJjZSddKQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgYWxlcnQoJ0Vycm9yIGxvYWRpbmcgc2VhcmNoIGNhbmRpZGF0ZXMsIHBsZWFzZSByZWZyZXNoLicpCiAgICAgICAgICB9KQogICAgICB9LAogICAgfQp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/Admin-Dashboard/admin/interview-process","sourcesContent":["<template>\n  <div id=\"admin-ranking-container\" class=\"mt-3\">\n    <b-row>\n       <b-col sm=\"8\">\n        <h4 v-if=\"currentTerm != null\">{{ currentTerm.department }} Interviews {{ currentTerm.year }}</h4>\n       <!--   <label class=\"tx-12 wt-600 dark-gray\">Search Candidates:</label>\n         <b-form-input v-model=\"search\" placeholder=\"Search Candidates\"></b-form-input> -->\n      </b-col>\n\n      <b-col sm=\"4\">\n        <!-- <p><label class=\"tx-12 wt-600 dark-gray\">Ranking Actions:</label></p> -->\n        <!-- <b-button size=\"sm\" class=\"ml-1\">Export list</b-button> -->\n      </b-col>\n      <b-col sm=\"12\">\n        <hr />\n        <b-card>\n          <ag-grid-vue\n            id=\"grid\"\n            style=\"width: 100%; height: 500px;\"\n            class=\"ag-theme-material\"\n            :gridOptions=\"gridOptions\"\n            :columnDefs=\"columnDefs\"\n            :rowData=\"rowData\"\n            :animateRows=\"true\"\n            :context=\"context\"\n            :frameworkComponents=\"frameworkComponents\"\n          >\n          </ag-grid-vue>\n        </b-card>\n      </b-col>\n    </b-row> \n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nconst API_URL = process.env.VUE_APP_API_URL\nimport { AgGridVue } from 'ag-grid-vue';\nimport \"ag-grid-enterprise\";\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\nimport \"ag-grid-community/dist/styles/ag-theme-material.css\";\nimport {fields} from './fields'\nimport photoRender from \"./photoRender\";\nexport default {\n  name: 'index',\n  props: ['active','organization', 'user', 'candidates', 'faculty', 'currentTerm'],\n   watch: {\n    organization: function(newVal, oldVal) {\n      if(newVal) {\n        this.organization = newVal\n      }\n    },\n    candidates: function(newVal, oldVal) {\n      if(newVal) {\n        this.candidates = newVal\n        this.rowData = newVal\n      }\n    },\n    active: function(newVal, oldVal) {\n      if(newVal) {\n        if(newVal == true) {\n          this.gridApi.sizeColumnsToFit()\n        }\n      }\n    },\n  },\n  data() {\n      return {\n        search: '',\n        text: null,\n        year: null,\n        gridOptions: null,\n        gridApi: null,\n        columnApi: null,\n        rowSelection: \"single\",\n        context: null,\n        frameworkComponents: null,\n        paginationNumberFormatter: null,\n        paginationPageSize: 100,\n        columnDefs: fields,\n        rowData: this.candidates\n      }\n    },\n    components: {\n      AgGridVue,\n      photoRender\n    },\n    computed: {\n      priorYears() {\n        let x\n        let terms = this.organization.terms\n        let years = []\n        for(x in terms) { years.push(terms[x].year) }\n        this.year = years[0]\n        return years\n      },\n      sortedCustodians: {\n        get () {\n          /* \n          COMPUTED PROPERTY IS CONNECTED TO THE SEARCH TEXT BOX IN THE COMPONENT\n          ALLOWS USERS TO SEARCH THEIR MATTERS AND ASSIGNMENTS\n          */\n          return this.candidates\n            ? this.candidates.filter(item => item['First Name'].toLowerCase().includes(this.search.toLowerCase()))\n            : this.candidates\n        },\n        set () {\n          this.candidates.sort(function(a, b) {\n              if(a['First Name'] < b['First Name']) { return -1 }\n              if(a['Last Name'] > b['Last Name']) { return 1  }\n              return 0\n            })\n        }\n      }\n    },\n    beforeMount() {\n        this.gridOptions = {\n                  defaultColDef: { sortable: true},\n        }\n        this.gridOptions.rowHeight = 150;\n        this.columnDefs = fields\n        this.context = { componentParent: this }\n        this.frameworkComponents = { \n              \"photoRender\": photoRender\n            };\n    },\n    mounted() {\n        this.gridApi = this.gridOptions.api\n        this.gridColumnApi = this.gridOptions.columnApi\n        // this.gridApi.sizeColumnsToFit();\n    },\n    methods: {\n      onGridReady(params) {\n      params.api.sizeColumnsToFit();\n      window.addEventListener(\"resize\", function() {\n            setTimeout(function() {\n              params.api.sizeColumnsToFit()\n            })\n          })  \n      },\n        sort(index, order) {\n          if(order == null) {\n            this.fields[index].order = 'desc'\n          }\n          if(order == 'asc') {\n            this.fields[index].order = 'desc'\n          }\n          if(order == 'desc') {\n            this.fields[index].order = 'asc'\n          }\n          console.log(this.fields[index])\n        },\n        getCandidates(year) {\n          let org = this.user.Organization\n        axios.get(API_URL+'/candidate/all/'+org+'/'+year)\n          .then(({ data }) => {\n            let x \n            for(x in data) {\n              this.candidates.push(data[x]['_source'])\n            }\n          })\n          .catch(function (e) {\n              alert('Error loading search candidates, please refresh.')\n          })\n      },\n    }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n  #admin-ranking-container {\n    width: 99%;\n    padding: 15px;\n  }\n  #PreInterviewRankings th {\n    font-size: 10px;\n  }\n   #PreInterviewRankings td {\n    font-size: 12px;\n    padding: 5px 15px 5px 15px;\n    vertical-align: middle;\n  }\n  #PreInterviewRankings td:nth-child(2)  {\n    max-width: 200px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n  #PreInterviewRankings td:last-child {\n     width: 300px;\n  }\n  .profile-sm {\n    display: inline-block;\n    border-radius: 100%;\n    height: 35px;\n    width:  auto;\n    margin-right: 10px;\n  }\n</style>"]}]}
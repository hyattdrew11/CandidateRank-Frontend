{"remainingRequest":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/drewhyatt/projects/CandidateRank-Frontend/src/components/Auth/zoomredirect.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/src/components/Auth/zoomredirect.vue","mtime":1595212614076},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IEFQSV9VUkwgPSBwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkwKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJwoKaW1wb3J0IE5hdmlnYXRpb24gZnJvbSAnLi4vTmF2aWdhdGlvbi9OYXZpZ2F0aW9uLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnWm9vbVJlZGlyZWN0JywKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIHpvb21fY29kZTogdGhpcy4kcm91dGUucXVlcnkuY29kZSwKICAgICAgZW1haWw6IG51bGwsCiAgICAgIGxvYWRpbmc6IHRydWUsCgogICAgfQogIH0sCiAgY29tcG9uZW50czogewogIAlOYXZpZ2F0aW9uLAogICAgYXhpb3MKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmNoZWNrWm9vbUNvZGUodGhpcy56b29tX2NvZGUpCiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGVja1pvb21Db2RlKGNvZGUpIHsKICAgICAgaWYoY29kZSA9PSB1bmRlZmluZWQpIHsKICAgICAgICAvLyBSRURJUkVDVCBUTyBIT01FCiAgICAgIH0KICAgICAgZWxzZSB7CiAgICAgICAgdGhpcy5hdXRoZW50aWNhdGVab29tKCkKICAgICAgfQogICAgfSwKICAgIGF1dGhlbnRpY2F0ZVpvb20oKSB7CiAgICAgIGxldCBpbnB1dCA9IHsKICAgICAgICBjb2RlOiB0aGlzLnpvb21fY29kZSwKICAgICAgICBlbWFpbDogdGhpcy5lbWFpbAogICAgICB9CiAgICAgIGF4aW9zLnBvc3QoIEFQSV9VUkwrJy9hdXRoL3pvb21fYXV0aGVudGljYXRpb24vJywgaW5wdXQpCiAgICAgICAgICAudGhlbigoeyBkYXRhIH0pID0+IHsgCiAgICAgICAgICAgIGFsZXJ0KCJab29tIGF1dGhlbmljYXRpb24gc3VjY2Vzc2Z1bC4gWW91IHdpbGwgYmUgcmVkaXJlY3RlZCB0byBsb2dpbiB0byBDYW5kaWRhdGUgUmFuay4iKQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2Rhc2hib2FyZCcpCiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlKSB7IAogICAgICAgICAgICBjb25zb2xlLmxvZyhlKSAKICAgICAgICAgICAgYWxlcnQoIkVycm9yIGNvbm5lY3RpbmcgdG8gWm9vbSwgcGxlYXNlIHRyYXkgYWdhaW4uIikKICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAgImh0dHBzOi8vem9vbS51cy9vYXV0aC9hdXRob3JpemU/cmVzcG9uc2VfdHlwZT1jb2RlJmNsaWVudF9pZD1rNnVZMThsU1NqcU5OZW5SMGxzcE9nJnJlZGlyZWN0X3VyaT1odHRwczovL2NhbmRpZGF0ZXJhbmsuaW8vem9vbXJlZGlyZWN0IgogICAgICAgICAgfSkKICAgICAgLyogQVhJT1MgUE9TVCBjb2RlIFRPIFNFUlZFUiBUTyBHRVQgQUNDRVNTIFRPS0VOIEZST00gWk9PTQogICAgICAgICBTRVJWRVIgV0lMTCBGSVJTVCBUUlkgT1QgQVVUSEVOVElDQVRFIFdJVEggWk9PTSAKICAgICAgICAgIElGIFNVQ0NFU1MgVEhFTiBDSEVDSyBJRiBUSElTIFVTRVIgSVMgSU4gT1VSIERCIAogICAgICAgICAgICBJRiBVU0VSIElTIElOIERCIExPRyBUSEVNIElOIAogICAgICAgICAgICBFTFNFIENSRUFURSBBIE5FVyBVU0VSIEFORCBPUkdBTklaQVRJT04gQU5EIFRIRU4gTE9HIFRIRU0gSU4gCiAgICAgICAgICBFTFNFIElTIEZBSUxVUkUKICAgICAgICAgICAgQUxFUlQgQU4gRVJST1IgQU5EIFRSWSBBVVRIIEFHQUlOCiAgICAgICovCgogICAgfSwKICAgIGxvZ2luKCkge30KCiAgfSwKfQo="},{"version":3,"sources":["zoomredirect.vue"],"names":[],"mappings":";;;;;;;;;AASA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA","file":"zoomredirect.vue","sourceRoot":"src/components/Auth","sourcesContent":["<template>\n\t<div>\n\t\t<Navigation />\n    <i id=\"loader\" v-if=\"loading\" class=\"fa fa-spinner fa-pulse fa-3x fa-fw text-info\" aria-hidden=\"true\"></i>\n\t\t<h1 class=\"mb-0 p-4 tx-18 wt-400\">Zoom Authentication</h1>\n\t</div>\n</template>\n\n<script>\nconst API_URL = process.env.VUE_APP_API_URL\nimport axios from 'axios'\n\nimport Navigation from '../Navigation/Navigation.vue';\nexport default {\n  name: 'ZoomRedirect',\n  data () {\n    return {\n      zoom_code: this.$route.query.code,\n      email: null,\n      loading: true,\n\n    }\n  },\n  components: {\n  \tNavigation,\n    axios\n  },\n  mounted() {\n    this.checkZoomCode(this.zoom_code)\n  },\n  methods: {\n    checkZoomCode(code) {\n      if(code == undefined) {\n        // REDIRECT TO HOME\n      }\n      else {\n        this.authenticateZoom()\n      }\n    },\n    authenticateZoom() {\n      let input = {\n        code: this.zoom_code,\n        email: this.email\n      }\n      axios.post( API_URL+'/auth/zoom_authentication/', input)\n          .then(({ data }) => { \n            alert(\"Zoom authenication successful. You will be redirected to login to Candidate Rank.\")\n            this.$router.push('/dashboard')\n          })\n          .catch(function (e) { \n            console.log(e) \n            alert(\"Error connecting to Zoom, please tray again.\")\n            window.location.href =  \"https://zoom.us/oauth/authorize?response_type=code&client_id=k6uY18lSSjqNNenR0lspOg&redirect_uri=https://candidaterank.io/zoomredirect\"\n          })\n      /* AXIOS POST code TO SERVER TO GET ACCESS TOKEN FROM ZOOM\n         SERVER WILL FIRST TRY OT AUTHENTICATE WITH ZOOM \n          IF SUCCESS THEN CHECK IF THIS USER IS IN OUR DB \n            IF USER IS IN DB LOG THEM IN \n            ELSE CREATE A NEW USER AND ORGANIZATION AND THEN LOG THEM IN \n          ELSE IS FAILURE\n            ALERT AN ERROR AND TRY AUTH AGAIN\n      */\n\n    },\n    login() {}\n\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped></style>\n<!-- https://candidaterank.io/zoomredirect?code=YRV8MYmrk4_al1_xCoNQfOJJXPiSPzW2A -->"]}]}
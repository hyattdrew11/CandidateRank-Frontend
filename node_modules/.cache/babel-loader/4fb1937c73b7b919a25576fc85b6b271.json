{"remainingRequest":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/babel-loader/lib/index.js!/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/drewhyatt/projects/CandidateRank-Frontend/src/components/Auth/zoomredirect.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/src/components/Auth/zoomredirect.vue","mtime":1595212614076},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIEFQSV9VUkwgPSBwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9VUkw7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBOYXZpZ2F0aW9uIGZyb20gJy4uL05hdmlnYXRpb24vTmF2aWdhdGlvbi52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1pvb21SZWRpcmVjdCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHpvb21fY29kZTogdGhpcy4kcm91dGUucXVlcnkuY29kZSwKICAgICAgZW1haWw6IG51bGwsCiAgICAgIGxvYWRpbmc6IHRydWUKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBOYXZpZ2F0aW9uOiBOYXZpZ2F0aW9uLAogICAgYXhpb3M6IGF4aW9zCiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5jaGVja1pvb21Db2RlKHRoaXMuem9vbV9jb2RlKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoZWNrWm9vbUNvZGU6IGZ1bmN0aW9uIGNoZWNrWm9vbUNvZGUoY29kZSkgewogICAgICBpZiAoY29kZSA9PSB1bmRlZmluZWQpIHsvLyBSRURJUkVDVCBUTyBIT01FCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hdXRoZW50aWNhdGVab29tKCk7CiAgICAgIH0KICAgIH0sCiAgICBhdXRoZW50aWNhdGVab29tOiBmdW5jdGlvbiBhdXRoZW50aWNhdGVab29tKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGlucHV0ID0gewogICAgICAgIGNvZGU6IHRoaXMuem9vbV9jb2RlLAogICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsCiAgICAgIH07CiAgICAgIGF4aW9zLnBvc3QoQVBJX1VSTCArICcvYXV0aC96b29tX2F1dGhlbnRpY2F0aW9uLycsIGlucHV0KS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGE7CiAgICAgICAgYWxlcnQoIlpvb20gYXV0aGVuaWNhdGlvbiBzdWNjZXNzZnVsLiBZb3Ugd2lsbCBiZSByZWRpcmVjdGVkIHRvIGxvZ2luIHRvIENhbmRpZGF0ZSBSYW5rLiIpOwoKICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy9kYXNoYm9hcmQnKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICBhbGVydCgiRXJyb3IgY29ubmVjdGluZyB0byBab29tLCBwbGVhc2UgdHJheSBhZ2Fpbi4iKTsKICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICJodHRwczovL3pvb20udXMvb2F1dGgvYXV0aG9yaXplP3Jlc3BvbnNlX3R5cGU9Y29kZSZjbGllbnRfaWQ9azZ1WTE4bFNTanFOTmVuUjBsc3BPZyZyZWRpcmVjdF91cmk9aHR0cHM6Ly9jYW5kaWRhdGVyYW5rLmlvL3pvb21yZWRpcmVjdCI7CiAgICAgIH0pOwogICAgICAvKiBBWElPUyBQT1NUIGNvZGUgVE8gU0VSVkVSIFRPIEdFVCBBQ0NFU1MgVE9LRU4gRlJPTSBaT09NCiAgICAgICAgIFNFUlZFUiBXSUxMIEZJUlNUIFRSWSBPVCBBVVRIRU5USUNBVEUgV0lUSCBaT09NIAogICAgICAgICAgSUYgU1VDQ0VTUyBUSEVOIENIRUNLIElGIFRISVMgVVNFUiBJUyBJTiBPVVIgREIgCiAgICAgICAgICAgIElGIFVTRVIgSVMgSU4gREIgTE9HIFRIRU0gSU4gCiAgICAgICAgICAgIEVMU0UgQ1JFQVRFIEEgTkVXIFVTRVIgQU5EIE9SR0FOSVpBVElPTiBBTkQgVEhFTiBMT0cgVEhFTSBJTiAKICAgICAgICAgIEVMU0UgSVMgRkFJTFVSRQogICAgICAgICAgICBBTEVSVCBBTiBFUlJPUiBBTkQgVFJZIEFVVEggQUdBSU4KICAgICAgKi8KICAgIH0sCiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7fQogIH0KfTs="},{"version":3,"sources":["zoomredirect.vue"],"names":[],"mappings":";;;;;;;;AASA,IAAA,OAAA,GAAA,OAAA,CAAA,GAAA,CAAA,eAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,OAAA,UAAA,MAAA,8BAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IADA;AAEA,MAAA,KAAA,EAAA,IAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KAAA;AAMA,GATA;AAUA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA,UADA;AAEA,IAAA,KAAA,EAAA;AAFA,GAVA;AAcA,EAAA,OAdA,qBAcA;AACA,SAAA,aAAA,CAAA,KAAA,SAAA;AACA,GAhBA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,yBACA,IADA,EACA;AACA,UAAA,IAAA,IAAA,SAAA,EAAA,CACA;AACA,OAFA,MAGA;AACA,aAAA,gBAAA;AACA;AACA,KARA;AASA,IAAA,gBATA,8BASA;AAAA;;AACA,UAAA,KAAA,GAAA;AACA,QAAA,IAAA,EAAA,KAAA,SADA;AAEA,QAAA,KAAA,EAAA,KAAA;AAFA,OAAA;AAIA,MAAA,KAAA,CAAA,IAAA,CAAA,OAAA,GAAA,4BAAA,EAAA,KAAA,EACA,IADA,CACA,gBAAA;AAAA,YAAA,IAAA,QAAA,IAAA;AACA,QAAA,KAAA,CAAA,mFAAA,CAAA;;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,YAAA;AACA,OAJA,EAKA,KALA,CAKA,UAAA,CAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA,QAAA,KAAA,CAAA,8CAAA,CAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,IAAA,GAAA,wIAAA;AACA,OATA;AAUA;;;;;;;;AASA,KAjCA;AAkCA,IAAA,KAlCA,mBAkCA,CAAA;AAlCA;AAjBA,CAAA","sourcesContent":["<template>\n\t<div>\n\t\t<Navigation />\n    <i id=\"loader\" v-if=\"loading\" class=\"fa fa-spinner fa-pulse fa-3x fa-fw text-info\" aria-hidden=\"true\"></i>\n\t\t<h1 class=\"mb-0 p-4 tx-18 wt-400\">Zoom Authentication</h1>\n\t</div>\n</template>\n\n<script>\nconst API_URL = process.env.VUE_APP_API_URL\nimport axios from 'axios'\n\nimport Navigation from '../Navigation/Navigation.vue';\nexport default {\n  name: 'ZoomRedirect',\n  data () {\n    return {\n      zoom_code: this.$route.query.code,\n      email: null,\n      loading: true,\n\n    }\n  },\n  components: {\n  \tNavigation,\n    axios\n  },\n  mounted() {\n    this.checkZoomCode(this.zoom_code)\n  },\n  methods: {\n    checkZoomCode(code) {\n      if(code == undefined) {\n        // REDIRECT TO HOME\n      }\n      else {\n        this.authenticateZoom()\n      }\n    },\n    authenticateZoom() {\n      let input = {\n        code: this.zoom_code,\n        email: this.email\n      }\n      axios.post( API_URL+'/auth/zoom_authentication/', input)\n          .then(({ data }) => { \n            alert(\"Zoom authenication successful. You will be redirected to login to Candidate Rank.\")\n            this.$router.push('/dashboard')\n          })\n          .catch(function (e) { \n            console.log(e) \n            alert(\"Error connecting to Zoom, please tray again.\")\n            window.location.href =  \"https://zoom.us/oauth/authorize?response_type=code&client_id=k6uY18lSSjqNNenR0lspOg&redirect_uri=https://candidaterank.io/zoomredirect\"\n          })\n      /* AXIOS POST code TO SERVER TO GET ACCESS TOKEN FROM ZOOM\n         SERVER WILL FIRST TRY OT AUTHENTICATE WITH ZOOM \n          IF SUCCESS THEN CHECK IF THIS USER IS IN OUR DB \n            IF USER IS IN DB LOG THEM IN \n            ELSE CREATE A NEW USER AND ORGANIZATION AND THEN LOG THEM IN \n          ELSE IS FAILURE\n            ALERT AN ERROR AND TRY AUTH AGAIN\n      */\n\n    },\n    login() {}\n\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped></style>\n<!-- https://candidaterank.io/zoomredirect?code=YRV8MYmrk4_al1_xCoNQfOJJXPiSPzW2A -->"],"sourceRoot":"src/components/Auth"}]}
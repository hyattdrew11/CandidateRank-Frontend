{"remainingRequest":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/babel-loader/lib/index.js!/Users/drewhyatt/projects/CandidateRank-Frontend/src/store/index.js","dependencies":[{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/src/store/index.js","mtime":1583371114000},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drewhyatt/projects/CandidateRank-Frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwovLyBzdG9yZS9pbmRleC5qcwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWV4IGZyb20gJ3Z1ZXgnOwppbXBvcnQgY3JlYXRlUGVyc2lzdGVkU3RhdGUgZnJvbSAidnVleC1wZXJzaXN0ZWRzdGF0ZSI7IC8vIGltcG9ydHMgb2YgQUpBWCBmdW5jdGlvbnMgd2lsbCBnbyBoZXJlCgppbXBvcnQgeyBhdXRoZW50aWNhdGUsIHJlZ2lzdGVyIGFzIF9yZWdpc3RlciwgZ2V0Q2FuZGlkYXRlcyB9IGZyb20gJ0AvYXBpJzsKaW1wb3J0IHsgaXNWYWxpZEp3dCwgRXZlbnRCdXMgfSBmcm9tICdAL3V0aWxzJzsKVnVlLnVzZShWdWV4KTsKdmFyIHN0YXRlID0gewogIHVzZXI6IG51bGwsCiAgY2FuZGlkYXRlczogW10sCiAgdXNlckRhdGE6IHt9LAogIGp3dDogJycKfTsKdmFyIGFjdGlvbnMgPSB7CiAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKGNvbnRleHQsIHVzZXJEYXRhKSB7CiAgICBjb25zb2xlLmxvZyh1c2VyRGF0YSk7CiAgICBjb250ZXh0LmNvbW1pdCgnc2V0VXNlckRhdGEnLCB7CiAgICAgIHVzZXJEYXRhOiB1c2VyRGF0YQogICAgfSk7CiAgICByZXR1cm4gYXV0aGVudGljYXRlKHVzZXJEYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBjb250ZXh0LmNvbW1pdCgnc2V0Snd0VG9rZW4nLCB7CiAgICAgICAgand0OiByZXNwb25zZS5kYXRhCiAgICAgIH0pOwogICAgICBFdmVudEJ1cy4kZW1pdCgnYXV0aGVudGljYXRlZCcsICdTdWNlc3NmdWwgbG9naW4nKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICBFdmVudEJ1cy4kZW1pdCgnZmFpbGVkQXV0aGVudGljYXRpb24nLCAnRXJyb3IgbG9nZ2luZyBpbiBwbGVhc2UgdHJ5IGFnYWluLicpOwogICAgfSk7CiAgfSwKICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIoY29udGV4dCwgdXNlckRhdGEpIHsKICAgIGNvbnRleHQuY29tbWl0KCdzZXRVc2VyRGF0YScsIHsKICAgICAgdXNlckRhdGE6IHVzZXJEYXRhCiAgICB9KTsKICAgIHJldHVybiBfcmVnaXN0ZXIodXNlckRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIEV2ZW50QnVzLiRlbWl0KCdyZWdpc3RlcmVkJywgJ1N1Y2Vzc2Z1bCByZWdpc3RyYXRpb24nKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICBFdmVudEJ1cy4kZW1pdCgnZmFpbGVkUmVnaXN0ZXJpbmc6ICcsIGVycm9yKTsKICAgIH0pOwogIH0sCiAgbG9hZENhbmRpZGF0ZXM6IGZ1bmN0aW9uIChfbG9hZENhbmRpZGF0ZXMpIHsKICAgIGZ1bmN0aW9uIGxvYWRDYW5kaWRhdGVzKF94KSB7CiAgICAgIHJldHVybiBfbG9hZENhbmRpZGF0ZXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KCiAgICBsb2FkQ2FuZGlkYXRlcy50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIF9sb2FkQ2FuZGlkYXRlcy50b1N0cmluZygpOwogICAgfTsKCiAgICByZXR1cm4gbG9hZENhbmRpZGF0ZXM7CiAgfShmdW5jdGlvbiAob3JnYW5pemF0aW9uKSB7CiAgICBjb25zb2xlLmxvZyhsb2FkQ2FuZGlkYXRlcyk7CiAgICByZXR1cm4gZ2V0Q2FuZGlkYXRlcyhvcmdhbml6YXRpb24pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRDYW5kaWRhdGVzJywgewogICAgICAgIGNhbmRpZGF0ZXM6IHJlc3BvbnNlCiAgICAgIH0pOwogICAgfSk7CiAgfSkKfTsKdmFyIG11dGF0aW9ucyA9IHsKICBzZXRDYW5kaWRhdGVzOiBmdW5jdGlvbiBzZXRDYW5kaWRhdGVzKHN0YXRlLCBwYXlsb2FkKSB7CiAgICBzdGF0ZS5jYW5kaWRhdGVzID0gcGF5bG9hZC5jYW5kaWRhdGVzOwogIH0sCiAgc2V0VXNlckRhdGE6IGZ1bmN0aW9uIHNldFVzZXJEYXRhKHN0YXRlLCBwYXlsb2FkKSB7CiAgICBzdGF0ZS51c2VyID0gcGF5bG9hZC51c2VyRGF0YTsKICAgIGxvY2FsU3RvcmFnZS51c2VyID0gcGF5bG9hZC51c2VyRGF0YTsKICB9LAogIHNldEp3dFRva2VuOiBmdW5jdGlvbiBzZXRKd3RUb2tlbihzdGF0ZSwgcGF5bG9hZCkgewogICAgbG9jYWxTdG9yYWdlLnRva2VuID0gcGF5bG9hZC5qd3QudG9rZW47CiAgICBsb2NhbFN0b3JhZ2UudXNlciA9IHBheWxvYWQuand0LnRva2VuLnVzZXI7CiAgICBzdGF0ZS5qd3QgPSBwYXlsb2FkLmp3dDsKICAgIHN0YXRlLnVzZXIgPSBwYXlsb2FkLmp3dC50b2tlbi51c2VyOwogIH0KfTsKdmFyIGdldHRlcnMgPSB7CiAgaXNBdXRoZW50aWNhdGVkOiBmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoc3RhdGUpIHsKICAgIGlmIChzdGF0ZS5qd3QpIHsKICAgICAgcmV0dXJuIGlzVmFsaWRKd3Qoc3RhdGUuand0LnRva2VuKTsKICAgIH0KCiAgICByZXR1cm4gZmFsc2U7CiAgfQp9Owp2YXIgc3RvcmUgPSBuZXcgVnVleC5TdG9yZSh7CiAgcGx1Z2luczogW2NyZWF0ZVBlcnNpc3RlZFN0YXRlKHsKICAgIHN0b3JhZ2U6IHdpbmRvdy5zZXNzaW9uU3RvcmFnZQogIH0pXSwKICBzdGF0ZTogc3RhdGUsCiAgYWN0aW9uczogYWN0aW9ucywKICBtdXRhdGlvbnM6IG11dGF0aW9ucywKICBnZXR0ZXJzOiBnZXR0ZXJzCn0pOwpleHBvcnQgZGVmYXVsdCBzdG9yZTs="},{"version":3,"sources":["/Users/drewhyatt/projects/CandidateRank-Frontend/src/store/index.js"],"names":["Vue","Vuex","createPersistedState","authenticate","register","getCandidates","isValidJwt","EventBus","use","state","user","candidates","userData","jwt","actions","login","context","console","log","commit","then","response","data","$emit","catch","error","loadCandidates","organization","mutations","setCandidates","payload","setUserData","localStorage","setJwtToken","token","getters","isAuthenticated","store","Store","plugins","storage","window","sessionStorage"],"mappings":"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","sourcesContent":["// store/index.js\n\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport createPersistedState from \"vuex-persistedstate\";\n\n// imports of AJAX functions will go here\nimport { authenticate, register, getCandidates } from '@/api'\nimport { isValidJwt, EventBus } from '@/utils'\n\nVue.use(Vuex)\n\nconst state = {\n  user : null,\n  candidates: [],\n  userData: {},\n  jwt: ''\n}\n\nconst actions = {\n  \n  login (context, userData) {\n    console.log(userData)\n    context.commit('setUserData', { userData })\n    return authenticate(userData)\n      .then((response) => {\n        context.commit('setJwtToken', { jwt: response.data })\n        EventBus.$emit('authenticated', 'Sucessful login')\n      })\n      .catch(error => {\n        EventBus.$emit('failedAuthentication', 'Error logging in please try again.')\n      })\n  },\n  register (context, userData) {\n    context.commit('setUserData', { userData })\n    return register(userData)\n    .then((response) => {\n        EventBus.$emit('registered', 'Sucessful registration')\n    })\n    .catch(error => {\n        EventBus.$emit('failedRegistering: ', error)\n    })\n  },\n  loadCandidates (organization) {\n    console.log(loadCandidates)\n    return getCandidates(organization)\n    .then((response) => {\n        context.commit('setCandidates', { candidates: response })\n      })\n  }\n}\n\nconst mutations = {\n  setCandidates (state, payload) {\n    state.candidates = payload.candidates\n  },\n  setUserData (state, payload) {\n    state.user = payload.userData\n    localStorage.user = payload.userData\n  },\n  setJwtToken (state, payload) {\n    localStorage.token = payload.jwt.token\n    localStorage.user = payload.jwt.token.user\n    state.jwt = payload.jwt\n    state.user = payload.jwt.token.user\n  }\n}\n\nconst getters = {\n  isAuthenticated (state) {\n    if(state.jwt) {\n      return isValidJwt(state.jwt.token)\n    }\n    return false\n  }\n}\n\nconst store = new Vuex.Store({\n  plugins: [createPersistedState({\n    storage: window.sessionStorage,\n  })],\n  state,\n  actions,\n  mutations,\n  getters\n})\n\nexport default store"]}]}